/*
 * This source file was generated by the Gradle 'init' task
 */
package d.engine;

import java.util.stream.Collector;
import java.util.stream.Collectors;
import java.util.stream.Stream;

import d.engine.geomety.Point3D;
import d.engine.geomety.Shape3D;
import d.engine.geomety.Triangle;
import d.engine.gui.SingleShapeWindow;

public class App {

    public static void main(String[] args) {
        Point3D A = new Point3D(0, 0, 0);
        Point3D B = new Point3D(1, 0, 0);
        Point3D C = new Point3D(0.5, Math.sqrt(3) / 2, 0);
        Point3D D = new Point3D(0.5, Math.sqrt(3) / 6, Math.sqrt(6) / 3);

        // Define the faces (triangles)
        Triangle triangle1 = new Triangle(A, B, C);  // Face ABC
        Triangle triangle2 = new Triangle(A, B, D);  // Face ABD
        Triangle triangle3 = new Triangle(B, C, D);  // Face BCD
        Triangle triangle4 = new Triangle(A, C, D);  // Face ACD

        Triangle[] triangles = new Triangle[] {triangle1, triangle2, triangle3, triangle4};

        Shape3D tetrahedron = new Shape3D(triangles);

        // Stream.of(triangles).collect(Collectors.toSet()).stream().forEach((Triangle t) -> {
        //     t.applyScalar(2);
        // });

        Point3D center = tetrahedron.computeCentroid();

        double offsetX = -center.x;
        double offsetY = -center.y;
        double offsetZ = -center.z + 25; // also push it back

        Stream.of(triangles).collect(Collectors.toSet()).stream().forEach((Triangle t) -> {
            // t.applyScalar(2);
            t.translate(offsetX, offsetY, offsetZ);
        });

        new SingleShapeWindow(tetrahedron);


    }
}
